## Knowledge Hub Explorer Dockerfile
ARG NODE_VERSION=19
FROM node:${NODE_VERSION}-alpine

ARG KHUB_DIR=/app
ARG FUSEKI_ENDPOINT
ARG FUSEKI_SERVICE

ENV NODE_ENV=production
ENV REACT_APP_FUSEKI_ENDPOINT=$FUSEKI_ENDPOINT
ENV REACT_APP_FUSEKI_SERVICE=$FUSEKI_SERVICE

WORKDIR ${KHUB_DIR}

COPY . .

RUN npm ci
RUN npm run build

EXPOSE 3000

CMD [ "npx", "serve", "build" ]