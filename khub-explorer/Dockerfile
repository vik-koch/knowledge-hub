## Knowledge Hub Explorer Dockerfile

ARG NODE_VERSION=19
ARG KHUB_DIR=/app
ARG REACT_APP_FUSEKI_ENDPOINT
ARG REACT_APP_FUSEKI_SERVICE

FROM node:${NODE_VERSION}-alpine

ENV NODE_ENV=production
ENV REACT_APP_FUSEKI_ENDPOINT $REACT_APP_FUSEKI_ENDPOINT
ENV REACT_APP_FUSEKI_SERVICE $REACT_APP_FUSEKI_SERVICE

WORKDIR ${KHUB_DIR}

COPY . .

RUN npm ci
RUN npm run build

EXPOSE 3000

CMD [ "npx", "serve", "build" ]